<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="index.html">Port Elgin Biryani</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="menu.html">Menu</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="location.html">Location</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="order.html">Order</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="feedback.html">Feedback</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Menu Section -->
    <div class="container" id="menu">
        <h1>Our Menu</h1>
        <div class="row">
            <!-- Menu Item 1 -->
            <div class="col-md-4">
                <div class="card mb-4">
                    <img src="https://cravingzone.com/wp-content/uploads/2020/07/PicsArt_07-27-08.42.12-1-scaled.jpg" class="card-img-top" alt="Item 1">
                    <div class="card-body">
                        <h5 class="card-title">Chicken Biryani</h5>
                        <p class="card-text">Delicious spicy chicken Biryani.</p>
                        <p class="card-text"><strong>$20.00</strong></p>
                        <button class="btn btn-primary" onclick="addItem('Item 1', 20.00)">Add to Cart</button>
                    </div>
                </div>
            </div>
            <!-- Menu Item 2 -->
            <div class="col-md-4">
                <div class="card mb-4">
                    <img src="https://www.saltandtamarind.com/wp-content/uploads/2017/08/IMG_5752.jpg" class="card-img-top" alt="Item 2">
                    <div class="card-body">
                        <h5 class="card-title">Beef cutlets</h5>
                        <p class="card-text">Special chapali Kabab.</p>
                        <p class="card-text"><strong>$12.00</strong></p>
                        <button class="btn btn-primary" onclick="addItem('Item 2', 12.00)">Add to Cart</button>
                    </div>
                </div>
            </div>
            <!-- Menu Item 3 -->
            <div class="col-md-4">
                <div class="card mb-4">
                    <img src="https://1.bp.blogspot.com/-LSp7uz_mxKY/Xtk4Lp3j2xI/AAAAAAAAhzs/K5jJx5aKau022fvuLZqidWZZixDdOf6rgCK4BGAsYHg/s1600/20200506_130009.jpg" class="card-img-top" alt="Item 3">
                    <div class="card-body">
                        <h5 class="card-title">Raita & Salad</h5>
                        <p class="card-text">vege and deri based.</p>
                        <p class="card-text"><strong>$15.00</strong></p>
                        <button class="btn btn-primary" onclick="addItem('Item 3', 15.00)">Add to Cart</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-5">
            <h2>Shopping Cart</h2>
            <ul id="cartList" class="list-group"></ul>
            <div class="mt-3">
                <button class="btn btn-success" data-toggle="modal" data-target="#checkoutModal">Proceed to Checkout</button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal fade" id="checkoutModal" tabindex="-1" role="dialog" aria-labelledby="checkoutModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="checkoutModalLabel">Checkout</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h5>Total Amount: $<span id="totalAmount"></span></h5>
                    <div class="form-group">
                        <label for="paymentMethod">Select Payment Method</label>
                        <select class="form-control" id="paymentMethod">
                            <option value="paypal">PayPal</option>
                            <option value="electronic_transfer">Electronic Transfer</option>
                            <option value="credit_card">Credit/Debit Card</option>
                        </select>
                    </div>
                    <div id="paymentDetails" style="display: none;">
                        <p>If you choose electronic transfer, please send the payment to <strong>zaibgull@outlook.com</strong>.</p>
                    </div>
                    <div id="paypalDetails" style="display: none;">
                        <p>If you choose PayPal, please send the payment to <strong>zaibgull@outlook.com</strong> or call <strong>438-878-6263</strong> for more details.</p>
                    </div>
                    <div id="creditCardForm" style="display: none;">
                        <form>
                            <div class="form-group">
                                <label for="cardNumber">Card Number</label>
                                <input type="text" class="form-control" id="cardNumber" placeholder="Card Number" required>
                            </div>
                            <div class="form-group">
                                <label for="expiryDate">Expiry Date</label>
                                <input type="text" class="form-control" id="expiryDate" placeholder="MM/YY" required>
                            </div>
                            <div class="form-group">
                                <label for="cvv">CVV</label>
                                <input type="text" class="form-control" id="cvv" placeholder="CVV" required>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="completeOrder()">Complete Order</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light text-center text-lg-start">
        <div class="text-center p-3">
            &copy; 2024 Restaurant. All rights reserved.
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        const cart = [];
        const itemCounts = {};

        function addItem(name, price) {
            if (!itemCounts[name]) {
                itemCounts[name] = 0;
            }
            itemCounts[name] += 1;

            const existingItemIndex = cart.findIndex(i => i.name === name);
            if (existingItemIndex > -1) {
                cart[existingItemIndex].quantity += 1;
                cart[existingItemIndex].totalPrice = cart[existingItemIndex].price * cart[existingItemIndex].quantity;
            } else {
                cart.push({ name, price, quantity: 1, totalPrice: price });
            }
            updateCart();
        }

        function updateCart() {
            const cartList = document.getElementById('cartList');
            cartList.innerHTML = '';
            cart.forEach(item => {
                const li = document.createElement('li');
                li.className = 'list-group-item d-flex justify-content-between align-items-center';
                li.innerHTML = `${item.name} - $${item.price.toFixed(2)} (x${item.quantity}) <button class="btn btn-danger btn-sm ml-2" onclick="removeItem('${item.name}')">Remove</button>`;
                cartList.appendChild(li);
            });

            const totalAmount = cart.reduce((sum, item) => sum + item.totalPrice, 0);
            document.getElementById('totalAmount').innerText = totalAmount.toFixed(2);
        }

        function removeItem(name) {
            const itemIndex = cart.findIndex(i => i.name === name);
            if (itemIndex > -1) {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity -= 1;
                    cart[itemIndex].totalPrice = cart[itemIndex].price * cart[itemIndex].quantity;
                } else {
                    cart.splice(itemIndex, 1);
                }
                updateCart();
            }
        }

        document.getElementById('paymentMethod').addEventListener('change', function() {
            const paymentMethod = this.value;
            const paypalDetails = document.getElementById('paypalDetails');
            const paymentDetails = document.getElementById('paymentDetails');
            const creditCardForm = document.getElementById('creditCardForm');

            if (paymentMethod === 'paypal') {
                paypalDetails.style.display = 'block';
                paymentDetails.style.display = 'none';
                creditCardForm.style.display = 'none';
            } else if (paymentMethod === 'electronic_transfer') {
                paymentDetails.style.display = 'block';
                paypalDetails.style.display = 'none';
                creditCardForm.style.display = 'none';
            } else if (paymentMethod === 'credit_card') {
                creditCardForm.style.display = 'block';
                paypalDetails.style.display = 'none';
                paymentDetails.style.display = 'none';
            }
        });

        function completeOrder() {
            alert('Order completed! Thank you for your purchase.');
            // Implement actual order completion logic here
        }
    </script>
    <script src="menuitem.js"></script>
</body>
</html>
